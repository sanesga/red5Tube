<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Detail audio</title>
    <link rel="stylesheet" href="./style/style.css" />
    <!-- Favicon -->
    <link
      rel="shortcut icon"
      href="./style/img/favicon.png"
      type="image/x-icon"
    />
    <!--librería fontawesome-->
    <link
      type="text/css"
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <script>
      //llamamos a la función main cuando la página esté totalmente cargada
      window.onload = main;

      //la función main contiene todo el código javascript
      function main() {
        //---------------------------ELEMENTOS DEL DOM-----------------------------
        var portada = document.getElementById("portada");
        var cancion = document.getElementById("cancion");
        var title = document.getElementById("title");
        var views = document.getElementById("views");
        var autor = document.getElementById("autor");
        //---------------------------------------------------------------------------

        //recogemos la url del audio enviado
        var href = window.location.href;

        //recogemos el id enviado por la url
        var id = href.substring(href.indexOf("?") + 1, href.length);

        // Aqui añado el Objeto que simula el JSon recibido de una llamada Ajax
        var listado = {
          videos: [
            {
              id: 1,
              name: " video 01",
              image: "style/img/audio.jpg",
              visualizaciones: 1
            },
            {
              id: 2,
              name: " video 02",
              image: "style/img/audio.jpg",
              visualizaciones: 2
            },
            {
              id: 3,
              name: " video 03",
              image: "style/img/audio.jpg",
              visualizaciones: 13
            },
            {
              id: 4,
              name: " video 04",
              image: "style/img/audio.jpg",
              visualizaciones: 173
            },
            {
              id: 5,
              name: " video 05",
              image: "style/img/audio.jpg",
              visualizaciones: 19
            },
            {
              id: 6,
              name: " video 06",
              image: "style/img/audio.jpg",
              visualizaciones: 189
            },
            {
              id: 7,
              name: " video 07",
              image: "style/img/audio.jpg",
              visualizaciones: 17
            },
            {
              id: 8,
              name: " video 08",
              image: "style/img/audio.jpg",
              visualizaciones: 14
            },
            {
              id: 9,
              name: " video 09",
              image: "style/img/audio.jpg",
              visualizaciones: 155
            },
            {
              id: 10,
              name: " video 10",
              image: "style/img/audio.jpg",
              visualizaciones: 100
            },
            {
              id: 11,
              name: " video 11",
              image: "style/img/audio.jpg",
              visualizaciones: 155
            },
            {
              id: 12,
              name: " video 12",
              image: "style/img/audio.jpg",
              visualizaciones: 157
            },
            {
              id: 13,
              name: " video 13",
              image: "style/img/audio.jpg",
              visualizaciones: 55
            },
            {
              id: 14,
              name: " video 14",
              image: "style/img/audio.jpg",
              visualizaciones: 15
            },
            {
              id: 15,
              name: " video 15",
              image: "style/img/audio.jpg",
              visualizaciones: 175
            }
          ],
          audios: [
            {
              id: 1,
              cancion: "./multimedia/audio1.ogg",
              titulo: "Raggamuffin",
              portada: "style/img/audio1.jpg",
              visualizaciones: 0,
              autor: "Selah Sue"
            },
            {
              id: 2,
              cancion: "./multimedia/audio2.ogg",
              titulo: "Musica Background",
              portada: "style/img/audio2.jpg",
              visualizaciones: 38,
              autor: "Classic autor"
            },
            {
              id: 3,
              cancion: "./multimedia/audio3.ogg",
              titulo: "Acoustic Guitar",
              portada: "style/img/audio3.jpg",
              visualizaciones: 12,
              autor: "Paco de Lucía"
            },
            {
              id: 4,
              cancion: "./multimedia/audio4.ogg",
              titulo: "Musical Elements",
              portada: "style/img/audio4.jpg",
              visualizaciones: 24,
              autor: "2020"
            },
            {
              id: 5,
              cancion: "./multimedia/audio5.ogg",
              titulo: "Live concert",
              portada: "style/img/audio5.jpg",
              visualizaciones: 5,
              autor: "U2"
            },
            {
              id: 6,
              cancion: "./multimedia/audio6.ogg",
              titulo: "Classic song",
              portada: "style/img/audio6.jpg",
              visualizaciones: 9,
              autor: "Mozart"
            },
            {
              id: 7,
              cancion: "./multimedia/audio7.ogg",
              titulo: "DJ Session",
              portada: "style/img/audio7.jpg",
              visualizaciones: 35,
              autor: "David Guetta"
            },
            {
              id: 8,
              cancion: "./multimedia/audio8.ogg",
              titulo: "Por mi tripa",
              portada: "style/img/audio8.jpg",
              visualizaciones: 75,
              autor: "Pereza"
            },
            {
              id: 9,
              cancion: "./multimedia/audio9.ogg",
              titulo: "Fireworks",
              portada: "style/img/audio9.jpg",
              visualizaciones: 155,
              autor: "Katy Perry"
            },
           
            {
              id: 10,
              cancion: "./multimedia/audio10.ogg",
              titulo: "Sonidos de la naturaleza",
              portada: "style/img/audio10.jpg",
              visualizaciones: 95,
              autor: "2017"
            }
          ]
        };

        //Aqui Seleccionamos el contenedor de los audios
        var contenedor = document.getElementById("audio_container");
        //hacemos un bucle por cada audio en el Listado y buscamos la id del que queremos imprimir
        listado.audios.forEach(audio => {
          if (audio.id == id) {

            //añadimos los datos del audio a los elementos del dom
            //portada
            var portada = document.getElementById("portada");
            portada.setAttribute("src", audio.portada);
            //cancion
            var cancion = document.getElementById("cancion");
            cancion.setAttribute("src", audio.cancion);
            //titulo
            var titulo = document.getElementById("titulo");
            titulo.innerHTML = audio.titulo;
            //autor
            var autor = document.getElementById("autor");
            autor.innerHTML = audio.autor;
            //visualizaciones
            var visualizaciones = document.getElementById("visualizaciones");
            visualizaciones.innerHTML =
              audio.visualizaciones + " visualizaciones";
          }
        });
      }
    </script>
  </head>

  <body>
    <div class="grid-container">
      <header>
        <div class="flex-container">
          <h1 class="logo"><a href="index.html">Home</a></h1>
          <ul class="navigation">
            <li><a href="#">Login</a></li>
            <li><a href="#">Register</a></li>
          </ul>
        </div>
      </header>

      <section id="navigation_menu">
        <input type="checkbox" id="menu" />
        <nav id="superior">
          <ul>
            <li>
              <form action="search.html">
                <input type="text" placeholder="Search" />
                <a href="search.html"><i class="fa fa-search"></i></a>
              </form>
            </li>
            <li>
              <details>
                <summary
                  ><i class="fa fa-video"></i><span> See Videos</span></summary
                >
                <a href="my_videos.html">Todos</a><br />
                <a href="my_videos.html">Deportes</a><br />
                <a href="my_videos.html">Educación</a><br />
                <a href="my_videos.html">Humor</a><br />
                <a href="my_videos.html">Noticias</a><br />
                <a href="my_videos.html">Tiempo Libre</a><br />
                <a href="my_videos.html">Otros</a><br />
                <a href="my_videos.html">Aleatorio</a><br />
              </details>
            </li>
            <li>
              <details>
                <summary
                  ><i class="fa fa-video"></i>
                  <span>Listen Audios</span></summary
                >
                <a href="my_audios.html">Todos</a><br />
                <a href="my_audios.html">Deportes</a><br />
                <a href="my_audios.html">Educación</a><br />
                <a href="my_audios.html">Humor</a><br />
                <a href="my_audios.html">Noticias</a><br />
                <a href="my_audios.html">Tiempo Libre</a><br />
                <a href="my_audios.html">Otros</a><br />
                <a href="my_audios.html">Aleatorio</a><br />
              </details>
            </li>

            <li>
              <i class="fa fa-file-video"></i>
              <a href="streaming.html">Streaming Videos</a>
            </li>
            <li>
              <i class="fa fa-upload"></i>
              <a href="upload_video.html">Upload Video</a>
            </li>
            <li>
              <i class="fa fa-upload"></i>
              <a href="upload_audio.html">Upload Audio</a>
            </li>
            <li>
              <i class="fa fa-video"></i>
              <a href="my_videos.html">My Videos</a>
            </li>
            <li>
              <i class="fa fa-volume-up"></i>
              <a href="my_audios.html">My Audios</a>
            </li>
            <li>
              <i class="fa fa-info"></i>
              <a href="info.html">Info</a>
            </li>
            <li>
              <i class="fa fa-user"></i>
              <a href="pagina10.html">Administrate Users</a>
            </li>
            <li>
              <i class="fa fa-video"></i>
              <a href="pagina11.html">Administrate Videos</a>
            </li>
            <li>
              <i class="fa fa-sound"></i>
              <a href="pagina12.html">Administrate Audios</a>
            </li>
          </ul>
        </nav>
      </section>
      <!--Añadimos un id para añadir estilo por css-->
      <main id="pagina16">
        <header>
          <!--utilizamos la etiqueta span para darle un color diferente al texto que contiene-->
          <p>Nombre usuario, bienvenido a <span>Red5Tube.</span></p>
        </header>

        <!--tabla detalle de audio-->
        <!--utilizamos un grid-->
        <div id="detail-grid-container">
          <!--portada del disco-->
          <div>
            <img id="portada" alt="audio" />
          </div>
          <div>
            <!-- controles de audio -->
            <audio id="cancion" controls>
              Your browser does not support the audio tag.
            </audio>
          </div>
          <!--titulo, autor y visualizaciones-->
          <div id="titulo"></div>
          <div id="autor"></div>
          <div id="visualizaciones"></div>
        </div>
      </main>
      <!--Esta página no tiene footer-->
    </div>
  </body>
</html>
